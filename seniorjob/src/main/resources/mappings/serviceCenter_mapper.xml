<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.company.service_center.service.impl.Service_CenterMapper">
	<select id="getService_CenterList" resultType="Service_CenterVO">
	select seq,
	category_a,
	category_b,
	to_char(w_date, 'yyyy-mm-dd') as w_date,
	click,
	content,
	s_file,
	id,
	title from service_center
	</select>
		<select id="getService_Center" resultType="Service_CenterVO"
				parameterType="Service_CenterVO">
	select seq,
	category_a,
	category_b,
	to_char(w_date, 'yyyy-mm-dd') as w_date,
	click,
	content,
	s_file,
	id,
	title from service_center
	 WHERE SEQ = #{seq} 
	</select>
	<!--조회수 증가  -->
	<update id="updateClick" parameterType="Service_CenterVO">
  		UPDATE service_center SET click = click + 1 WHERE SEQ = #{seq}
	</update>
	<!--페이징 처리(1) 페이지 갯수 체크  -->
	<select id="countBoard" resultType="int">
		SELECT COUNT(*) FROM service_center
	</select>
	<!--페이징 처리(2) 페이지 처리 후 게시글 조회  -->
	<select id="selectBoard" resultType="Service_CenterVO">
	SELECT * 
		FROM (
			SELECT ROWNUM RN, A.* 
				FROM (
						SELECT * 
						FROM service_center 
						ORDER BY SEQ DESC 
						) A
				)
	WHERE RN BETWEEN #{start} AND #{end}
	</select>
	
	
 </mapper>