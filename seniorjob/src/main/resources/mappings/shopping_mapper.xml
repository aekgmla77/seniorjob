<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.company.shopping.service.impl.ShoppingMapper">
 
 
 	<!-- 양소민 추가 -->
 	<!-- 마이페이지_수강중인 멘토링 -->
	<select id="getSearchShopping" resultType="ShoppingVO">
		SELECT * FROM MENTORINGVU 
		WHERE ID='somTest'
	</select>
	
	<!-- 양소민 추가 -->
 	<!-- 마이페이지_결제내역 -->
	<select id="getSearchPay" resultType="ShoppingVO">
		SELECT * FROM MENTORINGVU 
		WHERE ID='somTest'
	</select>
	
	<!-- 김찬곤 추가 -->
 	<!-- 멘토 상세페이지_장바구니 담기 -->
 	<insert id="insertMentoringBasket" parameterType="com.company.shopping.service.ShoppingVO">
 		INSERT INTO SHOPPING(
							SHOPPING_NO,
							ID,
							MENTORING_NUMBER,
							S_DATE,
							MEN_START,
							MET_END,
							S_STATE
							)
		VALUES				((SELECT NVL(MAX(SHOPPING_NO),0)+1 FROM SHOPPING),
							#{id},
							#{mentoring_number},
							sysdate,
							to_date(#{men_start},'YYYY/MM/DD HH24:MI:SS'),
							to_date(#{met_end},'YYYY/MM/DD HH24:MI:SS'),
							'장바구니'
							)
 	</insert>
 	
 	<!-- 김찬곤 추가 -->
 	<!-- 멘토 상세페이지_장바구니 중복 체크 -->
 	<select id="BasketCheck" resultType="int">
 		SELECT COUNT(*) FROM SHOPPING
 		WHERE ID = #{id}
 		AND MENTORING_NUMBER = #{mentoring_number}
 	</select>
	
 </mapper>