<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.company.cart.service.impl.CartMapper">
 <select id="getSearchCartList" resultType="com.company.cart.service.CartVO">
 	SELECT CART_NO, 
 		   MENTORING_NAME, 
 		   CART_START, 
 		   CART_END, 
 		   CART_PRICE, 
 		   ID
	FROM   CART
	ORDER BY CART_NO	
 </select>
 <insert id="insertCart">
 	INSERT INTO CART (CART_NO, 
		 			  MENTORING_NAME, 
		 			  CART_START, 
		 			  CART_END, 
		 			  CART_PRICE, 
		 			  ID)
	values		((SELECT NVL(MAX(CART_NO), 0) + 1 FROM CART),
				#{mentoring_name},
				TO_DATE(#{cart_start},'YYYY-MM-DD HH24:MI:SS'),
				TO_DATE(#{cart_end},'YYYY-MM-DD HH24:MI:SS'),
				#{cart_price},
				#{id}
				)
 </insert>
 <delete id="deleteCart">
 	DELETE FROM CART WHERE CART_NO = #{cart_no}
 </delete>
  <delete id="deleteCartAll">
 	DELETE FROM CART WHERE ID = #{id}
 </delete>
 <update id="updateCart">
 	UPDATE SET MENTORING_NAME = #{mentoring_name},
 			   CART_START = #{cart_start},
 			   CART_END = #{cart_end},
 			   CART_PRICE = #{cart_price}
	WHERE CART_NO = #{cart_no} 			   
 </update>
 <select id="getCart" resultType="com.company.cart.service.CartVO">
 	SELECT CART_NO, 
 		   MENTORING_NAME, 
 		   CART_START, 
 		   CART_END, 
 		   CART_PRICE, 
 		   ID
	FROM   CART
	WHERE  CART_NO = ${cart_no} 	
 </select>
 <select id="countCart" resultType="int">
 	SELECT COUNT(*)
 	FROM   CART
 	WHERE  ID = #{id}
 	AND MENTORING_NAME = #{mentoring_name}
 </select>
 </mapper>